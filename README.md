# cscm28-coursework2

**Introduction**

Server-Side Request Forgery (SSRF) is a class of web security vulnerability where an attacker forces the server to perform a crafted malicious request. Suppose any web application is vulnerable to this attack; in that case, it can take a request parameter (HTTP request) to arbitrary domains chosen by an attacker to perform read and write operations to the local and internal assets. The demonstration below shows the identification, exploitation, and possible ways to prevent such vulnerability. For this demo a vulnerable virtual machine image provided by VulnHub called GEMINI INC: 1 is used.

**The system used to perform this lab:**
  •	OS – Microsoft Windows 11 Home -> You can use Linux like Kali Linux or Ubuntu too
  •	Processor – AMD Ryzen 7 5800H 8 Cores 16 Threads
  •	Memory (RAM) – 16.0 GB; Virtual Memory – 30.9 GB
  •	VMWare Pro Workstation
  •	2 Virtual machines (Kali as an attacking machine and Gemini Inc 1 as a victim machine)

**Minimum System Requirements to run this demo:** 
  •	A compatible 64-bit x86/AMD64 CPU launched in 2011 or later *
  •	3GHz or faster core speed.
  •	2GB RAM minimum/ 4GB RAM or more recommended.

**Setting Up the Lab**

For this lab, we will be using:
  •	Virtualization Software VMWare [Download VMWare] to host the attacking machine and victim machine to demonstrate the vulnerability. [You can also use other software such as VirtualBox]
  	The attacker machine used is Kali Linux which can be downloaded from this link. Kali Linux VMWare Machine
  	The victim machine used is GEMINI INC: 1, provided by VulnHub which can be downloaded from this link. GEMINI INC:1
  •	Once downloaded we have to import these machines to VMWare. 
  Open the VMWare software -> Click on File -> Click on Open -> Browse and add your virtual machine image to the VMWare. [The importing of vulnerable virtual images is   very straightforward but in case you get stuck; you can always view the documentation available here Installation Documentation.
•	[The attacking machine and vulnerable virtual machine are preconfigured to use the IP address automatically (DHCP); we don’t need additional configuration. Since we are dealing with a vulnerable machine, we will configure the Network Adapter to use “NAT” which can be configured from the setting option of the virtual machine.] After importing the virtual machine image, run the machines.
 
Information Gathering (Active Reconnaissance)
We first start with the active reconnaissance of the vulnerable machine. The following steps will be performed in the attacking machine i.e., Kali Machine (Both the machines; victim and attacker should be up and running)
Discovery of the HOST
Identifying the victim machine in the network
Tool Used: netdiscover – It will identify the victim machine in the network
netdiscover -r <host_ip>/24
e.g.: netdiscover -r 192.168.189.0/24 -> Identify the ip address of the victim machine
Discovery of the Services in Victim Machine
Identify available services in the host. (Using the ip address of victim machine discovered above)
Tool Used: nmap
nmap -sS -Pn -T4 -p- -A <victim_ip_address>
-sS -> TCP SYN port scan
-Pn -> Only scan port and disable host discovery.
-T4 -> Aggressive (4) speeds scans
-p- -> scan all ports
-A -> Detect OS, version, script scanning, and traceroute
Once the scan is complete you will find two open ports 22/TCP and 80/TCP with a directory test2 in port 80.
Enumeration
Visit the directory in the browser of attacking machine i.e., Kali Linux -> <victim_ip>/test2 -> Similar webpage is expected if everything is done correctly.
 

You can see that this web application was built and modified form the open-source project called Master Login System. Visit this project to find any important information.
You can see some important installation files like install.php. Upon close inspection of the source code, you can see that a default administrator account is created when we install this application and credentials of admin account is also shown.
 
USER: admin
PASSWORD: 1234

Gaining Access
Use those credentials to login to that application.
Once logged in you can view the admin profile from the dropdown from the navbar; the profile page contains few important information like email of admin and two different features under Actions dropdown:
Edit profile and Export profile
Try this function and see any interesting information is found.
You can see that when you use Export profile function it will actually export the profile.php file as a pdf.
A


Resources used to create this demo and documents:
Nmap Cheat Sheet
Carbon


